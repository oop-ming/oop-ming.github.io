<!doctype html>
<html lang="de">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="exe_effects.css" />
<link rel="stylesheet" type="text/css" href="exe_highlighter.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Kapselung | Objektorientierte Programmierung Skript </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Jacqueline Rähse" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.9 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="exe_effects.js"></script>
<script type="text/javascript" src="exe_highlighter.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
<body class="exe-web-site" id="exe-node-17"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Navigation überspringen</a></p>
<header id="header" ><div id="headerContent">Objektorientierte Programmierung Skript</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Objektorientierte Programmierung</a></li>
   <li><a href="java.html" class="daddy">Java</a>
   <ul class="other-section">
      <li><a href="erste_schritte_in_java.html" class="no-ch">Erste Schritte in Java</a></li>
      <li><a href="grundlagen.html" class="no-ch">Grundlagen</a></li>
      <li><a href="ausnahmebehandlung.html" class="no-ch">Ausnahmebehandlung</a></li>
      <li><a href="collections_und_lambda_ausdrcke.html" class="no-ch">Collections und Lambda Ausdrücke</a></li>
   </ul>
   </li>
   <li><a href="klassen_und_objekte.html" class="daddy">Klassen und Objekte</a>
   <ul class="other-section">
      <li><a href="packages_und_api.html" class="no-ch">Packages und API</a></li>
      <li><a href="processing_in_anderen_klassen_nutzen.html" class="no-ch">Processing in anderen Klassen nutzen</a></li>
   </ul>
   </li>
   <li><a href="konzeption_und_dokumentation.html" class="no-ch">Konzeption und Dokumentation</a></li>
   <li id="active"><a href="kapselung.html" class="active no-ch">Kapselung</a></li>
   <li><a href="vererbung.html" class="no-ch">Vererbung</a></li>
   <li><a href="abstraktion.html" class="no-ch">Abstraktion</a></li>
   <li><a href="polymorphismus.html" class="no-ch">Polymorphismus</a></li>
   <li><a href="design_patterns.html" class="no-ch">Design Patterns</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="konzeption_und_dokumentation.html" class="prev"><span><span>&laquo; </span>Vorheriges</span></a> <span class="sep">| </span><a href="vererbung.html" class="next"><span>Nächste<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">Kapselung</h1></header>
<article class="iDevice_wrapper textIdevice" id="id26">
<div class="iDevice emphasis0" >
<div id="ta26_127_2" class="block iDevice_content">
<div class="exe-text"><h1>Einführung - Kaffee kochen leicht gemacht</h1>
<p>Schauen wir uns ein Gerät an, welches die meisten von euch zu Hause haben: die Kaffeemaschine. Manche nutzen sie (mehrmals) täglich und andere so gut wie nie. Die Bedienung ist recht simpel - und damit ist die Kaffeemaschine ein gutes Beispiel für das Prinzip der Kapselung in der objektorientierten Programmierung:</p>
<ul>
<li><strong>Äußere Schnittstelle</strong>: Von außen sieht man nur Knöpfe und den Wassertank. Ich kann also nur bestimmte Aktionen durchführen und Informationen ablesen. Alles, was ich von "außen" machen kann, ist sozusagen die "öffentliche Schnittstelle" der Kaffeemaschine. Der Rest ist mir verborgen.</li>
<li><strong>Inneres Funktionieren</strong>: Im Inneren laufen komplexe Prozesse ab: Das Wasser wird erhitzt, der Kaffee wird ggf. gemahlen, das Wasser wird in den Filter gepumpt, ... Diese internen Vorgänge sind uns verborgen. Man hört vielleicht das Aufkochen des Wassers, aber konkrete Einblicke in die technischen Abläufe haben wir nicht. Und wir müssen sie auch nicht haben, da wir ja einfach nur Kaffee haben wollen.</li>
<li><strong>Schutz und Kontrolle</strong>: Ich kann nicht in die Maschine direkt eingreifen. Stattdessen nutze ich die vorgesehenen Einstellungen, welche mir die Maschine zur Verfügung stellt. Das schützt die Maschine vor Fehlfunktionen. Genauso schützt Kapselung den internen Zustand eines Objekts.</li>
</ul>
<p><strong>Kapselung</strong> (engl.: Encapsulation) ist ein wesentliches Prinzip der objektorientierten Programmierung. <strong>Das Ziel der Kapselung ist es, die Eigenschaften eines Objektes zu verbergen</strong> und nur diejenigen öffentlich zur Verfügung zu stellen, welche für die Interaktion (mit anderen Objekten, Systemen oder dem Nutzer) relevant sind. Dies schützt die Daten vor ungewollten Zugriffen und Manipulationen.</p>
<h2>Modifikatoren</h2>
<p>Um den Zugriff auf die Attribute und Methoden einer Klasse zu steuern, kommen sogenannte Modifikatoren zum Einsatz. Folgende Modifikatoren regeln, wer auf die Mitglieder einer Klasse (Attribute und Methoden) zugreifen darf:</p>
<ul>
<li><span style="font-family: andale mono, monospace;">public:</span> Mitglieder sind von überall zugreifbar.</li>
<li><span style="font-family: andale mono, monospace;">private:</span> Mitglieder sind nur innerhalb der gleichen Klasse sichtbar.</li>
<li><span style="font-family: andale mono, monospace;">protected:</span> Mitglieder sind innerhalb der gleichen Klasse und deren Subklassen zugänglich.</li>
<li><em>default</em> (auch <span style="font-family: andale mono, monospace;">package-private</span> genannt): Wenn kein expliziter Modifikator angegeben ist, sind die Mitglieder nur innerhalb ihres Pakets sichtbar.</li>
</ul>
<p>In der Klasse <span style="font-family: andale mono, monospace;">Auto</span> wird beispielsweise das Attribut marke als <span style="font-family: andale mono, monospace;">private</span> deklariert:</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java"><span class="token keyword">private</span> String marke<span class="token punctuation">;</span></code></pre>
</div>
</div>
<p>Dadurch wird verhindert, dass außerhalb der Klasse direkt darauf zugegriffen wird. Das bedeutet, dass dieses Attribut von außerhalb weder gelesen noch bearbeitet werden darf.</p>
<h2>Getter und Setter</h2>
<p>Stattdessen werden <strong>Getter- und Setter-Methoden</strong> angeboten, um kontrolliert Änderungen vorzunehmen. Getter sind dafür da Informationen zu lesen, Setter sind dafür da Informationen zu bearbeiten. Durch die Trennung in Getter und Setter, habe ich die Möglichkeit z.B. das Lesen der Daten durch andere Klassen zu ermöglichen <span style="font-family: andale mono, monospace;">(public),</span> das Ändern der Daten aber nur von innerhalb der Klasse zu ermöglichen <span style="font-family: andale mono, monospace;">(private).</span> Setter können außerdem dafür verwendet werden, um Daten zu prüfen oder zu bearbeiten, bevor der alte Wert des Attributs überschrieben wird.</p>
<ul>
<li><strong>Getter</strong> sind Methoden, die auf ein bestimmtes Attribut zugreifen und dieses als Rückgabewert zurückgeben</li>
<li><strong>Setter</strong> sind Methoden, die einen Wert als Parameter übergeben bekommen, diesen ggf. prüfen oder bearbeiten und dann (bei erfolgreicher Prüfung bzw. nach der Bearbeitung) den Wert einem Attribut zuweisen.</li>
</ul>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java"><span class="token comment" spellcheck="true">// Öffentliche Methode zum lesen der Marke</span>
<span class="token keyword">public</span> String <span class="token function">getMarke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> marke<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Öffentliche Methode zum ändern der Marke inkl. Bearbeitung</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMarke</span><span class="token punctuation">(</span>String marke<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">// Hier wird sichergestellt, dass die Marke klein geschrieben wird.</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>marke <span class="token operator">=</span> marke<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<p>Mit dieser Technik sorgt man dafür, dass die Objektdaten konsistent bleiben und nicht unbeabsichtigt verändert werden.</p>
<p><strong>Beispiel</strong>: Student/in</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">int</span> matrikelnummer<span class="token punctuation">;</span>

   <span class="token comment" spellcheck="true">// Getter-Methode</span>
   <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMatrikelnummer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> matrikelnummer<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment" spellcheck="true">// Setter-Methode</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMatrikelnummer</span><span class="token punctuation">(</span><span class="token keyword">int</span> matrikelnummer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// Beispiel: Prüfung, dass die Matrikelnummer positiv ist</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>matrikelnummer <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>matrikelnummer <span class="token operator">=</span> matrikelnummer<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Ungültige Matrikelnummer!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<p>In diesem Beispiel wird überprüft, ob die Matrikelnummer, die an die Methode setMatrikelnummer() übergeben wurde, größer als 0 ist. Falls nicht, wird der Wert nicht verändert und eine Fehlermeldung in der Konsole ausgegeben.</p>
<h2>Relevanz von Kapselung</h2>
<p>Kapselung sorgt dafür, dass die Sichtbarkeit von Daten sicher und sinnvoll geregelt ist. Wenn keine oder schlechte Kapselung vorliegt, kann dies unterschiedliche Folgen haben.</p>
<h3>Unbeabsichtigte Datenmanipulation</h3>
<p>Ohne angemessene Kapselung können externe Klassen direkt auf interne Daten zugreifen und diese möglicherweise auf unerwünschte Weise verändern.</p>
<p><strong>Beispiel:</strong> Bankkonto-Klasse</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java">public class Bankkonto {<br />    // Öffentlicher Kontostand
    public int kontostand;

    // Öffentliche Methode abheben ermöglicht
    // ungeschützten Zugriff
    public void abheben (int menge) {
        kontostand += menge;
    }
}</code></pre>
</div>
</div>
<p>In diesem Fall könnte eine andere Klasse den Kontostand direkt manipulieren:</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java">Bankkonto konto = new Bankkonto();
        
// Unerlaubte direkte Manipulation
konto.kontostand = 1000000;
konto.abheben(500000);</code></pre>
</div>
</div>
<h3>Verletzung der Datenintegrität</h3>
<p>Ohne Kapselung können Daten in einen ungültigen Zustand versetzt werden, da Validierung umgangen werden kann.</p>
<p><strong>Beispiel:</strong> Personenklasse</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">int</span> alter<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<p>Hier könnte ein ungültiges Alter gesetzt werden:</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java">Person person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.alter</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Ungültiges Alter</span></code></pre>
</div>
</div>
<h3>Verletzung des Geheimnisprinzips</h3>
<p>Ohne Kapselung wird das Innenleben einer Klasse offengelegt, was dem Prinzip der Informationsverbergung widerspricht.</p>
<p><strong>Beispiel:</strong> Datenbankverbindungsklasse</p>
<div class="highlighted-code language-java">
<div>
<pre class="  language-java"><code class="  language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Datenbankverbindung</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span> String nutzername<span class="token punctuation">;</span>
   <span class="token keyword">public</span> String passwort<span class="token punctuation">;</span>
   <span class="token keyword">public</span> Connection verbindung<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<p>Sensible Informationen wie Benutzername und Passwort sind hier direkt zugänglich.</p>
<div class="highlighted-code language-java">
<div>
<pre><code>Datenbankverbindung datenbankverbindung = new Datenbankverbindung();
System.out.println(datenbankverbindung.passwort);</code></pre>
</div>
</div>
<h1>Abschluss</h1>
<div class="exe-fx exe-accordion">
<h2>Aufgaben</h2>
<ul>
<li><strong>Aufgabe 1</strong>: Beispiele korrigieren
<ul>
<li>Im Abschnitt "Relevanz von Kapselung" wurden drei Negativ-Beispiele für schlechte Kapselung aufgezeigt</li>
<li>Passe alle drei Beispiele mithilfe von Modifikatoren, Gettern oder Settern so an, dass eine gute und sinnvolle Kapselung vorliegt.</li>
</ul>
</li>
</ul>
<h2>Fragen</h2>
<ol>
<li>Erkläre den Begriff der Kapselung und nenne zwei Vorteile, die sich daraus ergeben.</li>
<li>Was ist eine Getter und was ist ein Setter?</li>
<li>Wozu werden Getter und Setter eingesetzt?</li>
<li>Warum werden Attribute in der Regel als <span style="font-family: andale mono, monospace;">private</span> deklariert und über Getter/Setter zugänglich gemacht?</li>
</ol>
<h2>Zusammenfassung</h2>
<ul>
<li>Kapselung verbirgt die internen Details eines Objekts und sorgt für kontrollierten Zugriff über Getter und Setter.
<ul>
<li>Ein <strong>Getter</strong> ist eine öffentliche Funktion, welcher den Wert eines Attributs zurückgibt. Mithilfe eines Getters kann ein reiner Lesezugriff umgesetzt werden.</li>
<li>Ein <strong>Setter</strong> ist eine öffentliche Funktion, welche den Wert eines Attributs ändert. Der Setter ermöglicht die Einbindung einer Überprüfung oder Anpassung des Wertes oder die Ausführung weiterer Aktionen, bevor der Wert geändert wird.</li>
<li><strong>Beispiel:</strong>
<div class="highlighted-code language-java">
<div>
<pre><code>class OnlineShop {

   private int bestand;

   public in getBestand () {
      return bestand;
   }

   public void setBestand (int menge) {

      if (menge &gt;= 0) {
         bestand = menge;
      } else {
         System.out.println("Bestand darf nicht negativ sein!");
      }
   }
}</code></pre>
</div>
</div>
</li>
</ul>
</li>
<li><strong>Zugriffsmodifikatoren</strong> <span style="font-family: andale mono, monospace;">(private, public, protected)</span> steuern, wer welche Klassenmitglieder einsehen und verändern darf.
<ul>
<li><span style="font-family: andale mono, monospace;">public:</span> Eigenschaften sind außerhalb der Klasse sichtbar</li>
<li><span style="font-family: andale mono, monospace;">private:</span> Eigenschaften sind nur innerhalb der Klasse sichtbar</li>
<li><span style="font-family: andale mono, monospace;">protected:</span> Eigschaften sind innerhalb der Klasse und von Subklassen sichtbar</li>
<li>default (Keine Angabe): Eigenschaften sind außerhalb der Klasse, aber nur innerhalb des Pakets sichtbar</li>
</ul>
</li>
</ul>
</div>
<p></p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Lizenziert unter  </span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution Share Alike License 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="konzeption_und_dokumentation.html" class="prev"><span><span>&laquo; </span>Vorheriges</span></a> <span class="sep">| </span><a href="vererbung.html" class="next"><span>Nächste<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Made with eXeLearning<span> (New Window)</span></span></a></p><script type="text/javascript" src="_style_js.js"></script></body></html>